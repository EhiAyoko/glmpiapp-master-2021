{"version":3,"sources":["./src/app/pages/herstories/herstories.page.html","./src/app/pages/herstories/herstories-routing.module.ts","./src/app/pages/herstories/herstories.module.ts","./src/app/pages/herstories/herstories.page.scss","./src/app/pages/herstories/herstories.page.ts","./src/app/services/posts/posts.service.ts"],"names":[],"mappings":"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","file":"pages-herstories-herstories-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n\\t<ion-toolbar color=\\\"tertiary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button autoHide=\\\"false\\\" color=\\\"dark\\\" menu=\\\"first\\\"><ion-icon size=\\\"large\\\" color=\\\"light\\\" name=\\\"menu-outline\\\"></ion-icon></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>GLMPI HERstories</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"content\\\">\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <span class=\\\"ion-text-center\\\" *ngIf=\\\"loggedin\\\">\\n  <h2>Please log into your account to see HERstories</h2>\\n</span>\\n    <ion-card class=\\\"ion-text-center\\\">\\n      <ion-card-header>\\n        Checkout the most recent HERstories available!\\n      </ion-card-header>\\n    </ion-card>\\n  <ion-list class=\\\"post-list ion-no-padding\\\">\\n    <ion-item *ngFor=\\\"let item of items\\\" (click)=\\\"itemTapped($event, item)\\\" class=\\\"red\\\">\\n      <ion-avatar slot=\\\"start\\\" *ngIf=\\\"item.featured_image_urls\\\">\\n        <img *ngIf=\\\"item.featured_image_urls && item.featured_image_urls.thumbnail\\\" src=\\\"{{item.featured_image_urls.thumbnail}}\\\">\\n        <img *ngIf=\\\"!item.featured_image_urls || !item.featured_image_urls.thumbnail\\\" src=\\\"assets/default.png\\\">\\n      </ion-avatar>\\n<ion-label>\\n  <h2 *ngIf=\\\"item.title && item.title.rendered\\\" [innerHTML]=\\\"item.title.rendered\\\"></h2>\\n  <p *ngIf=\\\"item.excerpt && item.excerpt.rendered\\\" [innerHTML]=\\\"item.excerpt.rendered\\\"></p>\\n</ion-label>\\n    </ion-item>\\n  </ion-list>\\n\\n <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n  <ion-refresher-content></ion-refresher-content>\\n</ion-refresher>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HERstoriesPage } from './herstories.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HERstoriesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HERstoriesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HERstoriesPageRoutingModule } from './herstories-routing.module';\n\nimport { HERstoriesPage } from './herstories.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HERstoriesPageRoutingModule\n  ],\n  declarations: [HERstoriesPage]\n})\nexport class HERstoriesPageModule {}\n","export default \".content {\\n  --background: #f5f1e9;\\n}\\n\\n.red {\\n  --background: #f5f1e9;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvaGVyc3Rvcmllcy9oZXJzdG9yaWVzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHFCQUFBO0FBQ0o7O0FBQ0E7RUFDSSxxQkFBQTtBQUVKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvaGVyc3Rvcmllcy9oZXJzdG9yaWVzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250ZW50e1xyXG4gICAgLS1iYWNrZ3JvdW5kOiAjZjVmMWU5O1xyXG59XHJcbi5yZWR7XHJcbiAgICAtLWJhY2tncm91bmQ6ICNmNWYxZTk7XHJcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { NavController, LoadingController, ToastController } from '@ionic/angular';\nimport { PostsService } from 'src/app/services/posts/posts.service';\nimport { ConfigureService } from 'src/app/services/configure/configure.service';\nimport { NavigationExtras } from '@angular/router';\n\n@Component({\n  selector: 'app-herstories',\n  templateUrl: './herstories.page.html',\n  styleUrls: ['./herstories.page.scss'],\n})\nexport class HERstoriesPage implements OnInit {\n\titems: any;\n\tpage: number = 1;\n\troute: string;\n  loading;\n\tconstructor(\n\t\tpublic navCtrl: NavController, \n\t\tpublic postService: PostsService,\n\t\tpublic loadingCtrl: LoadingController,\n\t\tpublic toastCtrl: ToastController,\n\t\tpublic configure: ConfigureService\n\t\t) {\n\t\tlet url = configure.getUrl()\n\t\t// put your desired WP-API route here. URL params, CPTs, and custom routes all OK\n\t\tthis.route = url + 'wp-json/wp/v2/posts'\n\t}\n\nasync\tloadPosts() {\n    this.loading =await this.loadingCtrl.create({\n      showBackdrop: false,\n    });\n    this.loading.present();\n\t\tthis.page = 1;\n\t\t// any menu imported from WP has to use same component. Other pages can be added manually with different components\n\t\tthis.postService.load( this.route, this.page ).then(items => {\n\t\t  // Loads posts from WordPress API\n\t\t  this.items = items;\nconsole.log('postdata', this.items)\n\t\t  // load more right away\n\t\t  this.loadMore(null);\n      this.loading.dismiss();\n\t\t}).catch((err) => {\n\n      this.loading.dismiss();\n\t\t  console.error('Error getting posts', err);\n\n\t\t});\n\t\t// make sure spinner never gets stuck on\n\t\tsetTimeout(() => {\n\t\t  this.loading.dismiss();\n\t\t}, 8000);\n\t}\n\titemTapped(event, item) {\n\t\tlet opt = {};\n    let navigationExtras: NavigationExtras = {\n      state: {\n        item: item\n      },\n    };\n    this.navCtrl.navigateForward('post-details', navigationExtras);\n\t}\n  doRefresh(event) {\n    console.log('Begin async operation');\n\n    setTimeout(() => {\n      console.log('Async operation has ended');\n      event.target.complete();\n    }, 2000);\n  }\n\n\tloadMore(infiniteScroll) {\n\t\tthis.page++;\n\t\tthis.postService.load( this.route, this.page ).then(items => {\n\t\t  // Loads posts from WordPress API\n\t\t  let length = items[\"length\"];\n\n\t\t  if( length === 0 ) {\n\t\t    if(infiniteScroll)\n        infiniteScroll.target.complete();\n\t\t    return;\n\t\t  }\n\t\t  for (var i = 0; i < length; ++i) {\n\t\t    this.items.push( items[i] );\n\t\t  }\n\t\t  if(infiniteScroll)\n      infiniteScroll.target.complete();\n\n\t\t}).catch( e => {\n\t\t  // promise was rejected, usually a 404 or error response from API\n\t\t  if(infiniteScroll)\n        infiniteScroll.target.complete(); // this is how you need to call in v4\n\t\t  console.warn(e)\n\t\t});\n\t}\nasync\tpresentToast(msg) {\n\t\tlet toast =await this.toastCtrl.create({\n\t\t  message: msg,\n\t\t  duration: 3000,\n\t\t  position: 'bottom',\n\t\t  cssClass: 'normal-toast'\n\t\t});\n\t\ttoast.present();\n\t}\n  ngOnInit() {\n    this.loadPosts()\n  }\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { HttpClient } from '@angular/common/http';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PostsService {\n  data: any = null;\n\n  constructor(\n    public http: HttpClient\n    ) {}\n\n  load(url:string, page) {\n\n    // set pagination\n    if( !page ) {\n      page = '1';\n    }\n\n    return new Promise( (resolve, reject) => {\n\n\t\tvar concat;\n\n\t\t// check if url already has a query param\n\t\tif( url.indexOf('?') > 0 ) {\n\t\t\tconcat = '&';\n\t\t} else {\n\t\t\tconcat = '?';\n\t\t}\n\n\t\tthis.http.get( url + concat + 'page=' + page )\n\t\t    .subscribe(data => {\n\n\t\t      this.data = data;\n\n\t\t      resolve(this.data);\n\t\t    },\n\t\t    error => {\n\t\t      // probably a bad url or 404\n\t\t      reject(error);\n\t\t    })\n\t});\n\n  }\n}\n"],"sourceRoot":"webpack:///"}